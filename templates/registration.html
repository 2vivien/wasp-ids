<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion Cybersécurité</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/registration.css') }}">
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #0D0D0D;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .cyber-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .cyber-icon {
            position: absolute;
            color: white;
            font-size: 1.5rem;
            text-shadow: 0 0 5px currentColor;
            will-change: transform;
            user-select: none;
            pointer-events: none;
        }
        
        .flame-effect {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: radial-gradient(circle, #FFD700 0%, #FF6600 70%, transparent 100%);
            box-shadow: 0 0 15px #FF6600, 0 0 30px #FFD700;
            opacity: 0;
            transform: scale(0);
            pointer-events: none;
        }
        
        .digital-haze {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 255, 255, 0.05) 0%, transparent 100%);
            pointer-events: none;
        }
        
        .cyber-floor {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(to top, rgba(255, 214, 0, 0.1), transparent);
            box-shadow: 0 -10px 30px rgba(255, 102, 0, 0.3);
            pointer-events: none;
        }
        
        .grid-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.3;
            pointer-events: none;
        }
        
        .login-container {
            position: relative;
            z-index: 10;
            background-color: rgba(13, 13, 13, 0.8);
            border: 1px solid #00FFFF;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3), 
                        inset 0 0 10px rgba(0, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }
        
        .input-field {
            background-color: rgba(13, 13, 13, 0.7);
            border: 1px solid #00FFFF;
            color: white;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 5px #FFD700;
        }
        
        .btn-login {
            background: linear-gradient(to right, #00FFFF, #0088FF);
            color: black;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .btn-login:hover {
            background: linear-gradient(to right, #FFD700, #FF6600);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 214, 0, 0.4);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 255, 255, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 255, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 255, 255, 0); }
        }
        
        .glow-text {
            text-shadow: 0 0 10px #00FFFF, 0 0 20px #00FFFF;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen text-white">
    <div class="cyber-bg">
        <div class="grid-pattern"></div>
        <div class="digital-haze"></div>
        <div class="cyber-floor"></div>
    </div>
    
    <div class="form-container">
        <h3 class="text-center mb-4" style="color: #f1c40f;">Inscription</h3>
    
        <form id="register-form" method="POST">
          <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fas fa-user"></i></span>
            <input type="text" name="username" class="form-control" placeholder="Nom d'utilisateur" required>
          </div>
    
          <div class="mb-3 input-group">
            <span class="input-group-text"><i class="fas fa-envelope"></i></span>
            <input type="email" name="email" class="form-control" placeholder="Mail" required>
          </div>
    
          <div class="mb-3 input-group password-wrapper">
            <span class="input-group-text"><i class="fas fa-lock"></i></span>
            <input type="password" name="password" class="form-control password-field real-input" placeholder="Mot de passe" required>
            <div class="password-visual"></div>
            <span class="toggle-password">
              <i class="fas fa-eye"></i>
            </span>
          </div>
          
          <div class="mb-3 input-group password-wrapper">
            <span class="input-group-text"><i class="fas fa-lock"></i></span>
            <input type="password" name="confirm_password" class="form-control password-field real-input" placeholder="Confirmer le mot de passe" required>
            <div class="password-visual"></div>
            <span class="toggle-password">
              <i class="fas fa-eye"></i>
            </span>
          </div>
          
    
          <div class="mb-3 input-group">
            <label class="input-group-text" for="role"><i class="fas fa-briefcase"></i></label>
            <select  name="role" class="form-select" id="role" required>
              <option value="" disabled selected>Choisir un rôle</option>
              <option value="admin">Administrateur</option>
              <option value="analyste">Analyste</option>
            </select>
          </div>
          
    
          <div class="form-check mb-3">
            <input type="checkbox"  name="accepted_terms" class="form-check-input" id="terms" required>
            <label class="form-check-label" for="terms">
              J'accepte les <a href="#">termes</a> et <a href="#">conditions de confidentialité</a>
            </label>
          </div>
    
          <div class="d-grid mb-3">
            <button type="submit" class="btn btn-submit">S'inscrire</button>
          </div>
    
          <div class="text-center text-white mb-2">ou</div>
    
          <div class="d-flex justify-content-center mb-3">
            <button type="button" class="btn social-btn"><i class="fab fa-google"></i> Google</button>
            <button type="button" class="btn social-btn"><i class="fab fa-github"></i> GitHub</button>
          </div>
    
          <div class="text-center">
            <span>Déjà un compte ? <a href="{{ url_for('login') }}">Se connecter</a></span>
          </div>
        </form>
      </div>
    
    <script>
        // Icônes d'attaques cyber
        const cyberIcons = [
            { icon: 'fa-bolt', color: '#FF5555', name: 'DDoS' }, // Flèches multiples
            { icon: 'fa-syringe', color: '#FF55FF', name: 'Injection SQL' }, // Seringue
            { icon: 'fa-fish', color: '#55FFFF', name: 'Phishing' }, // Hameçon
            { icon: 'fa-bug', color: '#FFAA00', name: 'Malware' }, // Bug
            { icon: 'fa-lock', color: '#AA55FF', name: 'Ransomware' }, // Cadenas
            { icon: 'fa-fist-raised', color: '#FF5555', name: 'Brute Force' }, // Poing
            { icon: 'fa-clock', color: '#55FF55', name: 'Zero-day' } // Horloge
        ];
        
        // Créer des particules d'icônes qui tombent
        function createFallingIcon() {
            const iconData = cyberIcons[Math.floor(Math.random() * cyberIcons.length)];
            const icon = document.createElement('div');
            icon.className = 'cyber-icon';
            icon.innerHTML = `<i class="fas ${iconData.icon}"></i>`;
            icon.style.color = iconData.color;
            icon.style.left = `${Math.random() * 100}%`;
            icon.style.top = '-50px';
            icon.dataset.name = iconData.name;
            
            document.body.appendChild(icon);
            
            // Animation de chute
            const fallSpeed = 1 + Math.random() * 3;
            let posY = -50;
            let rotation = Math.random() * 360;
            let scale = 0.8 + Math.random() * 0.5;
            
            const fallInterval = setInterval(() => {
                posY += fallSpeed;
                rotation += 0.5;
                scale = 0.8 + Math.sin(posY / 50) * 0.2;
                
                icon.style.transform = `translateY(${posY}px) rotate(${rotation}deg) scale(${scale})`;
                
                // Quand l'icône atteint le bas
                if (posY > window.innerHeight - 100) {
                    clearInterval(fallInterval);
                    createFlameEffect(icon);
                    icon.remove();
                }
            }, 16);
        }
        
        // Créer un effet de flamme quand une icône touche le sol
        function createFlameEffect(icon) {
            const rect = icon.getBoundingClientRect();
            const flame = document.createElement('div');
            flame.className = 'flame-effect';
            flame.style.left = `${rect.left + rect.width / 2 - 20}px`;
            flame.style.top = `${rect.top + rect.height / 2 - 20}px`;
            
            document.body.appendChild(flame);
            
            // Animation de flamme
            let scale = 0;
            let opacity = 1;
            const growInterval = setInterval(() => {
                scale += 0.1;
                if (scale > 3) opacity -= 0.05;
                
                flame.style.transform = `scale(${scale})`;
                flame.style.opacity = opacity;
                
                if (opacity <= 0) {
                    clearInterval(growInterval);
                    flame.remove();
                }
            }, 16);
            
            // Ajouter des particules bleues
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createBlueParticle(rect.left + rect.width / 2, rect.top + rect.height / 2);
                }, i * 100);
            }
        }
        
        // Créer des particules bleues électriques
        function createBlueParticle(x, y) {
            const particle = document.createElement('div');
            particle.className = 'flame-effect';
            particle.style.background = 'radial-gradient(circle, #00FFFF 0%, #0088FF 70%, transparent 100%)';
            particle.style.boxShadow = '0 0 10px #00FFFF, 0 0 20px #00FFFF';
            particle.style.left = `${x - 20}px`;
            particle.style.top = `${y - 20}px`;
            
            document.body.appendChild(particle);
            
            // Direction aléatoire
            const angle = Math.random() * Math.PI * 2;
            const distance = 30 + Math.random() * 50;
            const speed = 0.5 + Math.random();
            
            let currentDist = 0;
            const moveInterval = setInterval(() => {
                currentDist += speed;
                const newX = x - 20 + Math.cos(angle) * currentDist;
                const newY = y - 20 + Math.sin(angle) * currentDist;
                
                particle.style.left = `${newX}px`;
                particle.style.top = `${newY}px`;
                particle.style.opacity = 1 - currentDist / distance;
                
                if (currentDist >= distance) {
                    clearInterval(moveInterval);
                    particle.remove();
                }
            }, 16);
        }
        
        // Démarrer l'animation
        setInterval(createFallingIcon, 800);
        
        // Créer quelques icônes au démarrage
        for (let i = 0; i < 5; i++) {
            setTimeout(createFallingIcon, i * 300);
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/registration.js') }}"></script>
</body>
</html>